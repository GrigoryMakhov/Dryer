@model Baraban.Models.DataInputModel
<!DOCTYPE html>
<html>
<head>
@*    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>*@
</head>
<body>
    @using (Html.BeginForm("DataInputAdd", "Home", FormMethod.Post))
    {

        <div class="container">
            <h2>Исходные данные</h2>
            <div class="table-responsive">
                <div>
                    @if (ViewBag.DataInput != null && ViewBag.DataInput.IsActive)
                    {
                        ViewBag.DataInput.Name = null;
                        ViewBag.DataInput.Description = null;
                    }
                    <table>
                        <tr>
                            <td valign="top" width="210">
                                @Html.TextBox("DataInput.Name", (string)(ViewBag.DataInput.Name), htmlAttributes: new { type = "text", style = " width:200px; ", placeholder = "Введите название"})
                            </td>
                            <td>
                                @Html.TextArea("DataInput.Description", (string)(ViewBag.DataInput.Description), 5, 1, htmlAttributes: new { type = "text", style = " width:200px; height:30px", placeholder = "Введите описание"})
                            </td>
                        </tr>
                    </table>
                </div>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Наименование показателя, ед. изм.</th>
                            <th>Величина</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Начальная влажность материала, %</td>
                            <td>@Html.TextBox("DataInput.Wstart", (double)(ViewBag.DataInput.Wstart), htmlAttributes: new { type = "text", style = " width:100px;" })</td>
                        </tr>
                        <tr>
                            <td>Конечная влажность материала, %</td>
                            <td>@Html.TextBox("DataInput.Wend", (double)(ViewBag.DataInput.Wend), htmlAttributes: new { type = "text", style = " width:100px; "})</td>
                        </tr>
                        <tr>
                            <td>Содержание углерода в топливе, %</td>
                            <td>@Html.TextBox("DataInput.percentCp", (double)(ViewBag.DataInput.percentCp), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Содержание водорода в топливе, %</td>
                            <td>@Html.TextBox("DataInput.percentHp", (double)(ViewBag.DataInput.percentHp), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Содержание серы в топливе, %</td>
                            <td>@Html.TextBox("DataInput.percentSp", (double)(ViewBag.DataInput.percentSp), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Содержание кислорода в топливе, %</td>
                            <td>@Html.TextBox("DataInput.percentOp", (double)(ViewBag.DataInput.percentOp), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Содержание азота в топливе, %</td>
                            <td>@Html.TextBox("DataInput.percentNp", (double)(ViewBag.DataInput.percentNp), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Содержание золы в топливе, %</td>
                            <td>@Html.TextBox("DataInput.percentAp", (double)(ViewBag.DataInput.percentAp), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Содержание влаги в топливе, %</td>
                            <td>@Html.TextBox("DataInput.percentWp", (double)(ViewBag.DataInput.percentWp), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Максимальная температура газов, °C</td>
                            <td>@Html.TextBox("DataInput.t1", (double)(ViewBag.DataInput.t1), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Минимальная температура газов, °C</td>
                            <td>@Html.TextBox("DataInput.t2", (double)(ViewBag.DataInput.t2), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Коэффициент расхода воздуха</td>
                            <td>@Html.TextBox("DataInput.alpha", (double)(ViewBag.DataInput.alpha), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Коэффициент сохранения тепла</td>
                            <td>@Html.TextBox("DataInput.eta", (double)(ViewBag.DataInput.eta), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Температура воздуха, °C</td>
                            <td>@Html.TextBox("DataInput.tair", (double)(ViewBag.DataInput.tair), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Температура газов, °C</td>
                            <td>@Html.TextBox("DataInput.tgase", (double)(ViewBag.DataInput.tgase), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Средняя по массе начальная температура материала, °C</td>
                            <td>@Html.TextBox("DataInput.tm1", (double)(ViewBag.DataInput.tm1), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Требуемая производительность, кг/ч</td>
                            <td>@Html.TextBox("DataInput.Gt", (double)(ViewBag.DataInput.Gt), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Процент химического недожога, %</td>
                            <td>@Html.TextBox("DataInput.Him", (double)(ViewBag.DataInput.Him), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Объемное отношение кислорода к азоту в воздухе</td>
                            <td>@Html.TextBox("DataInput.k", (double)(ViewBag.DataInput.k), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Удельная теплоемкость газов, кДж/(кг*К)</td>
                            <td>@Html.TextBox("DataInput.Cgase", (double)(ViewBag.DataInput.Cgase), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Удельная теплоемкость сухого материала, кДж/(кг*К)</td>
                            <td>@Html.TextBox("DataInput.Cmaterial", (double)(ViewBag.DataInput.Cmaterial), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Удельная теплоемкость влаги, кДж/(кг*К)</td>
                            <td>@Html.TextBox("DataInput.Cwet", (double)(ViewBag.DataInput.Cwet), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Энтальпия водяного пара при 100 градусах цельсия, кДж/кг</td>
                            <td>@Html.TextBox("DataInput.enthalpy100", (double)(ViewBag.DataInput.enthalpy100), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Диаметр барабана, м</td>
                            <td>@Html.TextBox("DataInput.D", (double)(ViewBag.DataInput.D), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                        <tr>
                            <td>Длина барабана, м</td>
                            <td>@Html.TextBox("DataInput.L", (double)(ViewBag.DataInput.L), htmlAttributes: new { type = "text", style = " width:100px; " })</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
        </p>
        <div class="form-group" style="margin-left: auto; margin-top: 15px">
            <button type="submit" style="font-size: 15px" class="btn btn-primary">Сохранить</button>
        </div>
    }


    @*<a href="@Url.Action("Excel", "Home")">Скачать решение в Excel</a>*@
</body>
</html>

<script>
    $(document).ready(function () {
        
        const a = (e) => {
            var charCode = (e.which) ? e.which : event.keyCode

            if (String.fromCharCode(charCode).match(/[^0-9\,]/g))

                return false;
        }
        $('input:not([name = "DataInput.Name"])').keypress(a);

    });
</script>

